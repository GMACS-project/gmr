<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set up structure folder for new code version of Gmacs — set_DevStruct • gmr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set up structure folder for new code version of Gmacs — set_DevStruct"><meta property="og:description" content="Function to build the folder structure when updating/upgrading
Gmacs and prepare input files to run Gmacs. This function is to be used by
developers."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gmr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="far fa-file-code fa-lg"></span>
     
    Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file-contract fa-lg"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/1_UseGmrToRunGMACS.html">Run GMACS</a>
    </li>
  </ul></li>
<li>
  <a href="https://github.com/GMACS-project/User-manual" class="external-link">
    <span class="fas fa-book fa-lg"></span>
     
    About GMACS
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-check-square"></span>
     
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../news/index.html">Changelog</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.7" class="external-link">gmr V 1.3.7</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.6" class="external-link">gmr V 1.3.6</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.5" class="external-link">gmr V 1.3.5</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.4" class="external-link">gmr V 1.3.4</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.3" class="external-link">gmr V 1.3.3</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.3.0" class="external-link">gmr V 1.3.0</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V1.2.0" class="external-link">gmr V 1.2.0</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V0.1.1.0" class="external-link">gmr V 0.1.1.0</a>
    </li>
    <li>
      <a href="https://github.com/GMACS-project/gmr/releases/tag/V0.1.0.0" class="external-link">gmr V 0.1.0.0</a>
    </li>
  </ul></li>
<li class="dropdown-header">Contribute</li>
<li>
  <a href="https://github.com/GMACS-project/gmr/issues" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>
     
    Issues
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/GMACS-project/gmr" class="external-link">
    <span class="fa fa-github"></span>
     
    Source Code
  </a>
</li>
<li>
  <a>
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set up structure folder for new code version of Gmacs</h1>
    <small class="dont-index">Source: <a href="https://github.com/GMACS-project/gmr/blob/HEAD/R/set_DevStruct.R" class="external-link"><code>R/set_DevStruct.R</code></a></small>
    <div class="hidden name"><code>set_DevStruct.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to build the folder structure when updating/upgrading
Gmacs and prepare input files to run Gmacs. This function is to be used by
developers.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_DevStruct</span><span class="op">(</span></span>
<span>  stock <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ADMBpaths <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dir_test <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dir_old_version <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_LastAss_Files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dir_LastAss_Files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_Version_Files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dir_Version_Files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_Ver_ID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>stock</dt>
<dd><p>(character; vector)- The stock(s) to be considered. This specifies
the input file folder names that will be build in the <code>dir_test</code> repertory.
If set as <code>"all"</code>, then the function will look in either the
<code>dir_LastAss_Files</code> or the <code>dir_Version_Files</code> repertories to identify
which stock(s) to consider.</p></dd>


<dt>ADMBpaths</dt>
<dd><p>(filepath): absolute or relative to current working directory
path to file defining required ADMB paths. See the details section for more
information about this <code>ADMB file</code>.</p></dd>


<dt>dir_test</dt>
<dd><p>(path)- path to the repertory where the codes and stocks folder
will be saved during the development of this new version. This folder will be
used to run tests when updating/upgrading Gmacs.</p></dd>


<dt>dir_old_version</dt>
<dd><p>(path)- path to the repertory where the latest version
of Gmacs is saved. This repertory has to hold the last codes available for Gmacs
as well as the outptut of Gmacs for each <code>stock</code> obtained using this version.
The names of the <code>stock</code> folders in that repertory have to match the ones
in the <code>stock</code> argument.</p></dd>


<dt>use_LastAss_Files</dt>
<dd><p>(logical)- If <code>TRUE</code>, the last available
assessment input files are used. See details for more information.</p></dd>


<dt>dir_LastAss_Files</dt>
<dd><p>(path)- path to the repertory holding the last
available input files for each stock.</p></dd>


<dt>use_Version_Files</dt>
<dd><p>(logical)- If <code>TRUE</code>, the input files for a given
version of Gmacs are used.</p></dd>


<dt>dir_Version_Files</dt>
<dd><p>(path)- path to the repertory holding the input files
for each stock that have been used for an older version of Gmacs. See details
for more information.</p></dd>


<dt>new_Ver_ID</dt>
<dd><p>(character)- the version number of Gmacs for this update/upgrade.
This has to be in the form <code>X.YY.ZZ</code>. If <code>NULL</code>, a window will pop
up and ask the user to specify this version number.</p></dd>


<dt>verbose</dt>
<dd><p>(logical)- if <code>TRUE</code>, report the building process.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Set up the folder structure to develop a new version of Gmacs and provide
the stock specific input files that will be used to develop the new version of
Gmacs.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>dir_test</code> repertory will hold the following folders:</p><dl><dt><code>Gmacs_XX.YY.ZZ</code></dt>
<dd><p>a Gmacs version specific folder that is used to
store the outupt of Gmacs for the current version in development. The name
gave to the version being developed (<code>new_Ver_ID</code>) has to match the one
that will be given when updating/upgrading Gmacs.</p></dd>

<dt><code>Stock_Input_files</code></dt>
<dd><p>a folder subdived in multiple subfolders
corresponding to each version of Gmacs that is developped. Each of these
subfolders holds the stock-specific input files that are used for the
development.</p></dd>


</dl><p>The functions allows to use the stock-specific input files available
in the <code>dir_LastAss_Files</code> folder so you are sure to work with the last
available input files for each stock. This can be avoid by i) using input files
from a previous developed version of Gmacs (see the <code>use_Version_Files</code>
argument) or ii) providing your own input files in the <code>Stock_Input_files</code>
folder.</p>
<p>The <code>ADMBpaths</code> refers to the repertory that holds either the
"ADpaths_Windows.txt" file for the windows machine or the "ADpaths_MacOS.txt"
file for Mac. The function automatically detect which machine you are working
on.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>M. Veron</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>all.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 1. set up ----</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fsep</span> <span class="op">&lt;-</span> <span class="va">.Platform</span><span class="op">$</span><span class="va">file.sep</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load packages ----</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gmacs-project.github.io/gmr/" class="external-link">gmr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set directories ----</span></span></span>
<span class="r-in"><span><span class="va">dir_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Testing_Versions"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dir_old_version</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Dvpt_Version"</span>, fsep <span class="op">=</span> <span class="va">fsep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dir_LastAss_Files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">dirname</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, <span class="st">"Assessment_data"</span>, fsep <span class="op">=</span> <span class="va">fsep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dir_Version_Files</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">dir_ADMBpath_Files</span> <span class="op">&lt;-</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. local functions ----</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specification for building the structure</span></span></span>
<span class="r-in"><span><span class="va">stock</span> <span class="op">&lt;-</span>  <span class="st">"all"</span></span></span>
<span class="r-in"><span><span class="va">use_LastAss_Files</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="va">use_Version_Files</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="va">new_Ver_ID</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">verbose</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run the function to set up the folder structure ----</span></span></span>
<span class="r-in"><span><span class="fu">set_DevStruct</span><span class="op">(</span>stock <span class="op">=</span> <span class="va">stock</span>,</span></span>
<span class="r-in"><span>              ADMBpaths <span class="op">=</span> <span class="va">dir_ADMBpath_Files</span>,</span></span>
<span class="r-in"><span>              dir_test <span class="op">=</span> <span class="va">dir_test</span>,</span></span>
<span class="r-in"><span>              dir_old_version <span class="op">=</span> <span class="va">dir_old_version</span>,</span></span>
<span class="r-in"><span>              use_LastAss_Files <span class="op">=</span> <span class="va">use_LastAss_Files</span>,</span></span>
<span class="r-in"><span>              dir_LastAss_Files <span class="op">=</span> <span class="va">dir_LastAss_Files</span>,</span></span>
<span class="r-in"><span>              use_Version_Files <span class="op">=</span> <span class="va">use_Version_Files</span>,</span></span>
<span class="r-in"><span>              dir_Version_Files <span class="op">=</span> <span class="va">dir_Version_Files</span>,</span></span>
<span class="r-in"><span>              new_Ver_ID <span class="op">=</span> <span class="va">new_Ver_ID</span>,</span></span>
<span class="r-in"><span>              verbose <span class="op">=</span> <span class="va">verbose</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matthieu Veron, Cody Szuwalski.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

